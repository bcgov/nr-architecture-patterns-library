"use strict";(self.webpackChunknr_architecture_patterns_library=self.webpackChunknr_architecture_patterns_library||[]).push([[1425],{4827:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"GitHub Repository Best Practices/GitHub Repository Best Practices","title":"GitHub Repository Best Practices","description":"StatusGreenPublishedOverviewThe purpose of this page is to outline practices when using GitHub as your source code repository","source":"@site/docs/GitHub Repository Best Practices/GitHub Repository Best Practices.md","sourceDirName":"GitHub Repository Best Practices","slug":"/GitHub Repository Best Practices/","permalink":"/nr-architecture-patterns-library/pr-preview/pr-100/docs/GitHub Repository Best Practices/","draft":false,"unlisted":false,"editUrl":"https://github.com/bcgov/nr-architecture-patterns-library/tree/main/patterns/docs/GitHub Repository Best Practices/GitHub Repository Best Practices.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Migrating Existing Source Code Repositories","permalink":"/nr-architecture-patterns-library/pr-preview/pr-100/docs/Source Code Repositories/Migrating Existing Source Code Repositories/"},"next":{"title":"Coding Patterns & Practices","permalink":"/nr-architecture-patterns-library/pr-preview/pr-100/docs/Coding Patterns & Practices/"}}');var s=i(4848),t=i(8453);const o={sidebar_position:3},a="Removing Sensitive Data from a GitHub Repo, How To#",c={},l=[];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("table",{class:"wrapped relative-table",children:[(0,s.jsx)("colgroup",{}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("td",{children:(0,s.jsx)("div",{class:"content-wrapper",children:(0,s.jsx)("p",{children:"GreenPublished"})})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Overview"}),(0,s.jsx)("td",{children:(0,s.jsx)("div",{class:"content-wrapper",children:(0,s.jsx)("p",{children:"The purpose of this page is to outline practices when using GitHub as your source code repository"})})})]})]})]}),"\n",(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"removing-sensitive-data-from-a-github-repo-how-to",children:"Removing Sensitive Data from a GitHub Repo, How To#"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/removing-sensitive-data-from-a-repository",children:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/removing-sensitive-data-from-a-repository"})})}),"\n",(0,s.jsx)(n.p,{children:"Please make sure to follow those instructions carefully, as simply deleting the content will not remove it completely from the repository commit history."}),"\n",(0,s.jsx)(n.h1,{id:"repository-setup",children:"Repository Setup"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"It is recommended to have product-based monorepos"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The below options are found under settings"}),"\n",(0,s.jsx)(n.h1,{id:"branch-protection",children:"Branch Protection"}),"\n",(0,s.jsx)(n.p,{children:'Create at least 1 branch protection rule for your "main" branch that;'}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:['Forces an approval before merging to your "main" branch',"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"An approver should be someone able to understand the code changes and has the authority to approve code changes and pipeline activities associated with a PR Merge (Eg. Data Custodian and Test/Prod deployments)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Note: Admins can bypass this"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Enforces status checks to be passed before merging, this should include;","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"SonarCloud (vulnerability, code coverage)"}),"\n",(0,s.jsx)(n.li,{children:"Code scanning (Trivy, Snyk, CodeQL)"}),"\n",(0,s.jsx)(n.li,{children:"Builds"}),"\n",(0,s.jsx)(n.li,{children:"Deployments"}),"\n",(0,s.jsx)(n.li,{children:"Route verification (up/down, penetration testing)"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Note: checks need to have been run once to populate the drop-down"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"(Ensure you select your options below when enabling the rule)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ensures branches are up to date before merging"}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"manage-your-administrators",children:"Manage Your Administrators"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Have at least 1 backup administrator"}),"\n",(0,s.jsx)(n.li,{children:"Have as few admins as possible, most developers will not need to be an admin"}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"manage-your-team",children:"Manage Your Team"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Create a Team in GitHub and Manage the permission in the team. (",(0,s.jsx)(n.a,{href:"https://github.com/orgs/bcgov/teams",children:"https://github.com/orgs/bcgov/teams"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"This way if the single team is working on multiple products, authorization will be easier to manage and tracking will be easier."}),"\n",(0,s.jsxs)(n.li,{children:["All team names shall be prefixed by ",(0,s.jsx)(n.code,{children:"nr-"})," ."]}),"\n",(0,s.jsxs)(n.li,{children:["Team names shall be suffixed by ",(0,s.jsx)(n.code,{children:"-devops"})," if it is designed to be administrative in nature. This should only contain Product Owners/Mangers, Devops Specialists and Technical Leads ."]}),"\n",(0,s.jsxs)(n.li,{children:["All team names shall be lowercase, and use ",(0,s.jsx)(n.code,{children:"dashes"})," for ",(0,s.jsx)(n.code,{children:"spacing"})," (",(0,s.jsx)(n.em,{children:"do not use spaces or underscores, or other non-ASCII characters"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"Team name descriptors should attempt to preserve hierarchical team specificity where relevant."}),"\n",(0,s.jsxs)(n.li,{children:["GitHub teams does not have to be nested into other existing GitHub teams; they should depend on naming convention and be ",(0,s.jsx)(n.code,{children:"top level"})," ."]}),"\n",(0,s.jsx)(n.li,{children:"Team name acronyms should match formal team names where possible."}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"manage-your-code-owners",children:"Manage Your Code Owners"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Add a CODEOWNERS file under the /.github directory"}),"\n",(0,s.jsx)(n.li,{children:"Add this rule to your main branch protection to ensure PRs are reviewed by code owner"}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"setup-your-pull-request-repository-settings-very-useful-to-help-ensure-guidelines-are-followed",children:"Setup Your Pull Request Repository Settings (Very Useful to Help Ensure Guidelines are Followed)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use squash merging to keep histories clean","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"We recommend using pull request titles"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Suggest updating pull requests","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Being up to date is required (see above)"}),"\n",(0,s.jsx)(n.li,{children:"Selecting this will add an easy update button to PRs"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Automatically delete head branches, which are merged feature branches","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Excessive numbers of branches can degrade performance and increase clone times"}),"\n",(0,s.jsx)(n.li,{children:"Long lived-branches are strongly discouraged"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"For additional PR, Pipeline, and Deployment practices: See"}),"\n",(0,s.jsx)(n.h1,{id:"create-repository-documentation",children:"Create Repository Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Create a meaningful Readme.md, see ",(0,s.jsx)(n.a,{href:"https://github.com/bcgov/BC-Policy-Framework-For-GitHub/blob/master/BC-Gov-Org-HowTo/SAMPLE-README.md",children:"https://github.com/bcgov/BC-Policy-Framework-For-GitHub/blob/master/BC-Gov-Org-HowTo/SAMPLE-README.md"})]}),"\n",(0,s.jsxs)(n.li,{children:["Add a license and other required documentation, see ",(0,s.jsx)(n.a,{href:"https://docs.developer.gov.bc.ca/required-pages-for-github-repository/",children:"https://docs.developer.gov.bc.ca/required-pages-for-github-repository/"})]}),"\n",(0,s.jsxs)(n.li,{children:["Make use of the GitHub Wiki","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The GitHub Wiki provides version controlled documentation that multiple people can edit and does not require technical expertise"}),"\n",(0,s.jsx)(n.li,{children:"If you're going to use the Wiki make sure you add a reference to it in your Readme.md"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Create a reference in confluence to your repository and documentation"}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"github-wiki---suggestions-of-what-to-add",children:"GitHub Wiki - Suggestions of What to Add"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Points of Contact"}),"\n",(0,s.jsxs)(n.li,{children:["How-To's:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Running Locally"}),"\n",(0,s.jsx)(n.li,{children:"Developer Practices"}),"\n",(0,s.jsx)(n.li,{children:"Coding Practices"}),"\n",(0,s.jsx)(n.li,{children:"Ticket management"}),"\n",(0,s.jsx)(n.li,{children:"Backup and restore"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Application process flows"}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"handle-your-secrets-and-environment-variables",children:"Handle Your Secrets and Environment Variables"}),"\n",(0,s.jsx)(n.p,{children:"See"})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var r=i(6540);const s={},t=r.createContext(s);function o(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);