"use strict";(globalThis.webpackChunknr_architecture_patterns_library=globalThis.webpackChunknr_architecture_patterns_library||[]).push([[6698],{2979:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"Source Code Repositories/Source Code Repositories","title":"Source Code Repositories","description":"StatusGreenPublishedOverviewThis page is general awareness, guidance, and recommendations for source code repositories within the NRM","source":"@site/docs/Source Code Repositories/Source Code Repositories.md","sourceDirName":"Source Code Repositories","slug":"/Source Code Repositories/","permalink":"/nr-architecture-patterns-library/docs/Source Code Repositories/","draft":false,"unlisted":false,"editUrl":"https://github.com/bcgov/nr-architecture-patterns-library/tree/main/patterns/docs/Source Code Repositories/Source Code Repositories.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Development Team Kickstarter","permalink":"/nr-architecture-patterns-library/docs/Development Team Kickstarter/"},"next":{"title":"GitHub Organization Administration","permalink":"/nr-architecture-patterns-library/docs/Source Code Repositories/GitHub Organization Administration/"}}');var s=n(4848),o=n(8453);const t={sidebar_position:2},l="Summary",c={},a=[{value:"GitHub:",id:"github",level:2},{value:"BitBucket:",id:"bitbucket",level:2},{value:"Subversion (SVN):",id:"subversion-svn",level:2}];function d(e){const i={a:"a",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("table",{class:"wrapped",children:[(0,s.jsx)("colgroup",{}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("td",{children:(0,s.jsx)("div",{class:"content-wrapper",children:(0,s.jsx)("p",{children:"GreenPublished"})})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Overview"}),(0,s.jsx)("td",{children:(0,s.jsx)("div",{class:"content-wrapper",children:(0,s.jsx)("p",{children:"This page is general awareness, guidance, and recommendations for source code repositories within the NRM"})})})]})]})]}),"\n",(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"summary",children:"Summary"})}),"\n",(0,s.jsx)(i.p,{children:'Source code should be stored in a GitHub repository in the "bcgov" organization.'}),"\n",(0,s.jsx)(i.p,{children:"Private repositories can be requested in the bcgov-c organization"}),"\n",(0,s.jsxs)(i.p,{children:["NRM specific guidance on Github is here: ",(0,s.jsx)(i.a,{href:"https://apps.nrs.gov.bc.ca/int/confluence/display/AR/Source+Code+Repositories",children:"Source Code Repositories"})]}),"\n",(0,s.jsx)(i.h1,{id:"repository-type-overview",children:"Repository Type Overview"}),"\n",(0,s.jsxs)("table",{class:"wrapped",children:[(0,s.jsx)("colgroup",{class:""}),(0,s.jsxs)("tbody",{class:"",children:[(0,s.jsxs)("tr",{class:"",children:[(0,s.jsx)("th",{children:(0,s.jsx)("p",{children:"Repository Type"})}),(0,s.jsx)("th",{children:(0,s.jsx)("p",{children:"When to Use"})}),(0,s.jsx)("th",{children:(0,s.jsx)("p",{children:"Notes"})})]}),(0,s.jsxs)("tr",{class:"",children:[(0,s.jsx)("td",{children:"Subversion"}),(0,s.jsx)("td",{children:"Never"}),(0,s.jsx)("td",{children:"Subversion is deprecated, do not create any new repositories."})]}),(0,s.jsxs)("tr",{class:"",children:[(0,s.jsx)("td",{children:"BitBucket"}),(0,s.jsx)("td",{children:"Closed, internal"}),(0,s.jsx)("td",{children:"Manual, complex, (currently) in-house. Works with RFC/RFD process and JIRA. Very customizable."})]}),(0,s.jsxs)("tr",{class:"",children:[(0,s.jsx)("td",{children:"Github"}),(0,s.jsx)("td",{children:"Whenever possible"}),(0,s.jsxs)("td",{children:[(0,s.jsx)("p",{children:"Ideal for automation, open source. Industry leader in most significant areas. Very unconstrained."}),(0,s.jsxs)("p",{children:["see ",(0,s.jsx)("a",{href:"https://github.com/bcgov/BC-Policy-Framework-For-GitHub",children:(0,s.jsx)(i.a,{href:"https://github.com/bcgov/BC-Policy-Framework-For-GitHub",children:"https://github.com/bcgov/BC-Policy-Framework-For-GitHub"})})]})]})]})]})]}),"\n",(0,s.jsx)(i.h2,{id:"github",children:"GitHub:"}),"\n",(0,s.jsxs)(i.p,{children:["Beginner Guide: ",(0,s.jsx)(i.a,{href:"https://github.blog/2024-05-27-what-is-git-our-beginners-guide-to-version-control/",children:"https://github.blog/2024-05-27-what-is-git-our-beginners-guide-to-version-control/"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Predominant Source Code Management(SCM) system used in BC Government"}),"\n",(0,s.jsx)(i.li,{children:"Free code repositories for open source projects"}),"\n",(0,s.jsx)(i.li,{children:"Free GitHub Actions for open source projects"}),"\n",(0,s.jsxs)(i.li,{children:["Marketplace provides an incredible amount of",(0,s.jsx)(i.a,{href:"https://github.com/marketplace",children:"technologies and services"})]}),"\n",(0,s.jsxs)(i.li,{children:["Free container registry (*within GitHub Actions)","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Images can be consumed by OpenShift/Kubernetes, AWS, Azure, Podman/Docker and more"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Biggest code repository system","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Highest visibility, globally and locally"}),"\n",(0,s.jsx)(i.li,{children:"Largest developer ecosystem"}),"\n",(0,s.jsx)(i.li,{children:"Largest reach for talent"}),"\n",(0,s.jsx)(i.li,{children:"Largest base for tooling and 3rd party app support"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"Functions as a live resume for developers"}),"\n",(0,s.jsxs)(i.li,{children:["System for templating and ",(0,s.jsx)(i.a,{href:"https://github.com/bcgov/greenfield-template",children:"starting projects quickly"})]}),"\n",(0,s.jsx)(i.li,{children:"Content is easily discovered by public search (e.g. Google)"}),"\n",(0,s.jsx)(i.li,{children:"Open source content is readily available, login-free"}),"\n",(0,s.jsx)(i.li,{children:"Visibility encourages collaboration and discourages undesirable behavior"}),"\n",(0,s.jsx)(i.li,{children:"Sensible patterns prevent code from being deployed to production, but not merged"}),"\n",(0,s.jsx)(i.li,{children:"Versatility allows teams to tailor their processes, increasing productivity"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"For practices on using GitHub see:"}),"\n",(0,s.jsx)(i.h2,{id:"bitbucket",children:"BitBucket:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"JIRA integration"}),"\n",(0,s.jsxs)(i.li,{children:["Connections are stronger between teams and interal processes, e.g. ",(0,s.jsx)(i.a,{href:"https://apps.nrs.gov.bc.ca/int/confluence/display/TS/RFC+Process",children:"RFC/RFD"})," RFC/RFD"]}),"\n",(0,s.jsxs)(i.li,{children:["Fine-grained control, e.g.:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Prevent even repo administrators from merging code or side-stepping requirements"}),"\n",(0,s.jsx)(i.li,{children:"Asphyxiate contractors with red tape until code is abandoned and/or overwritten"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"Currently on-premise, working Jenkins and minimal firewall/networking changes"}),"\n",(0,s.jsx)(i.li,{children:"Potential shift to cloud will require similar admin and network changes to GitHub"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"subversion-svn",children:"Subversion (SVN):"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Lessened need to retrain on legacy projects, some are comfortable/familiar"}),"\n"]}),"\n",(0,s.jsx)(i.h1,{id:"source-code-repository-naming",children:"Source Code Repository Naming"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:['Github: prefix each repository with "nr-"',"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"e.g. nr-(app-name), replace the (app-name) with actual application/product name."}),"\n",(0,s.jsx)(i.li,{children:"e.g. nr-fom"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"Make sure the repository name is all lowercase and separated by dashes(-)"}),"\n"]}),"\n",(0,s.jsx)(i.h1,{id:"folder-naming",children:"Folder Naming"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:['"frontend" folder for frontend',"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:['for multiple frontends use "frontend-*"',"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Example: frontend-admin"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:['"backend" folder for backend',"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:['for multiple backends use "backend-*"',"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Example: backend-doc-gen"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:'"migrations" folder for applications using flyway'}),"\n",(0,s.jsx)(i.li,{children:'"tests" folder for applications with non-component specific tests (eg. Load). Component specific tests (unit, integration, e2e) should be within their specific subfolder (backend, frontend)'}),"\n"]}),"\n",(0,s.jsx)(i.h1,{id:"diagrams",children:"Diagrams"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["All repositories should have a .diagrams folder in the root of the repo. This folder should have at least:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"1x application architecture diagram in the source file format .drawio.xml"}),"\n",(0,s.jsx)(i.li,{children:"1x system integration and data flow diagram in the source file format .drawio.xml"}),"\n",(0,s.jsx)(i.li,{children:"1x architecture diagram in the file format .png for each .drawio.xml diagram"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h1,{id:"source-code-repository-topics",children:"Source Code Repository Topics"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Topics are labels that create subject-based connections between GitHub repositories and let you explore projects by type, technology, and more"}),"\n",(0,s.jsx)(i.li,{children:"putting nrs as a topic in the repos."}),"\n"]}),"\n",(0,s.jsx)(i.h1,{id:"mono-repo-vs-multi-repo",children:"Mono Repo vs Multi Repo?"}),"\n",(0,s.jsx)(i.p,{children:"As a general recommendation, it is preferred to use product based monorepos."}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"TL;DR - mono initially, multi with growth (e.g. +services, micro-service, APIs)"}),"\n",(0,s.jsx)(i.li,{children:"In a mono repo approach, all services and codebase are kept in a single repository"}),"\n",(0,s.jsx)(i.li,{children:"Generally speaking, mono repos minimize dependency management"}),"\n",(0,s.jsx)(i.li,{children:"If you have multiple services sharing the same libraries or common code, you may want to opt for a mono repo architecture"}),"\n",(0,s.jsx)(i.li,{children:"If you predict that your project will be extremely large or complex, a mono repo approach may become untenable over time"}),"\n",(0,s.jsx)(i.li,{children:"If you have a large team with multi developers doing commits and triggering builds a mono repo approach may not suit your needs"}),"\n",(0,s.jsx)(i.li,{children:"If your project is being worked on by multiple teams (e.g. back end & front end teams) you may want to opt for a multi repo architecture"}),"\n",(0,s.jsx)(i.li,{children:"If a versioning strategy is important to your project and you want to version services independently, a multi repo approach might be a better fit"}),"\n",(0,s.jsx)(i.li,{children:"If you have more than one team working in multiple repos for your project, developing patterns and best practices within your teams might be important"}),"\n",(0,s.jsx)(i.li,{children:"Uptime is easier to maintain with a mult-repo approach"}),"\n",(0,s.jsx)(i.li,{children:"Multi-repo allows for individual parts to be fixed/updated without taking down the service"}),"\n",(0,s.jsx)(i.li,{children:"Complex projects and supporting architecture (pipelines, APIs, DBs) are easier to manage with multi repo"}),"\n",(0,s.jsx)(i.li,{children:"Implementation (mono, multi, APIs, auth) matters far more than how the repositories are arranged"}),"\n"]}),"\n",(0,s.jsx)(i.h1,{id:"source-code-repository-license--ownership",children:"Source Code Repository License & Ownership"})]})}function h(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>t,x:()=>l});var r=n(6540);const s={},o=r.createContext(s);function t(e){const i=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(o.Provider,{value:i},e.children)}}}]);